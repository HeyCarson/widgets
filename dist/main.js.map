{"mappings":"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","sources":["src/index.js","src/builder.js"],"sourcesContent":["import builder from './builder.js'\n\nimport './widget.scss'\n\nconst ENDPOINT = 'https://api.staging.heycarson.com'\n\nconst initialOptions = {\n  element: null,\n  apiKey: null,\n  developer: '',\n  darkMode: false\n}\n\nclass ThemesWidget {\n  constructor (options = {}) {\n    this.options = { ...initialOptions, ...options }\n\n    this.developer = null\n  }\n\n  async render () {\n    if (!(this.options.element instanceof Element)) {\n      throw new Error('options.element: HTMLElement is required')\n    }\n\n    if (!this.developer) {\n      this.developer = (\n        await fetch(`${ENDPOINT}/v1/themes/developers/${this.options.developer}`).then(res => res.json())\n      )\n    }\n\n    builder(this.options.element, {\n      developer: this.developer,\n      dark: this.options.darkMode\n    })\n  }\n\n  destroy () {\n    if (!this.options.element || !this.options.element.childNodes.length) {\n      return\n    }\n\n    this.options.element.removeChild(this.options.element.childNodes[0])\n  }\n}\n\nexport default ThemesWidget\n","const logoImgLight = 'https://carson-themes.s3.amazonaws.com/assets/heycarson-logo-light.svg'\nconst logoImgDark = 'https://carson-themes.s3.amazonaws.com/assets/heycarson-logo-dark.svg'\nconst starImg = 'https://carson-themes.s3.amazonaws.com/assets/heycarson-star.svg'\n\nconst DEVELOPER_PAGE = 'https://heycarson.com/themes/developer/'\n\nconst buildLogo = ({ dark }) => {\n  const logoContainer = document.createElement('div')\n  const logo = document.createElement('img')\n\n  logoContainer.classList.add('hc-developer-widget__logo-container')\n  logo.classList.add('hc-developer-widget__logo')\n  logo.setAttribute('src', dark ? logoImgDark : logoImgLight)\n\n  logoContainer.appendChild(logo)\n\n  return logoContainer\n}\n\nconst buildStar = ({ rating, dark }) => {\n  const starContainer = document.createElement('div')\n  const star = document.createElement('img')\n  const rate = document.createElement('span')\n\n  starContainer.classList.add('hc-developer-widget__star-container')\n  star.classList.add('hc-developer-widget__star')\n  rate.classList.add('hc-developer-widget__rating')\n  rate.classList.toggle('hc-developer-widget__rating--dark', dark)\n\n  star.setAttribute('src', starImg)\n  rate.innerText = `${rating} / 5`\n\n  starContainer.appendChild(star)\n  starContainer.appendChild(rate)\n\n  return starContainer\n}\n\nconst buildReviews = ({ developer, reviews, dark }) => {\n  const reviewContainer = document.createElement('div')\n  const based = document.createElement('span')\n  const review = document.createElement('a')\n\n  reviewContainer.classList.add('hc-developer-widget__review-container')\n\n  based.classList.add('hc-developer-widget__based')\n  based.classList.toggle('hc-developer-widget__based--dark', dark)\n  review.classList.add('hc-developer-widget__review')\n  review.classList.toggle('hc-developer-widget__review--dark', dark)\n\n  based.innerText = 'Based on'\n\n  review.innerText = `${reviews} reviews`\n  review.setAttribute('href', DEVELOPER_PAGE + developer)\n  review.setAttribute('target', '_blank')\n  review.setAttribute('rel', 'noopener')\n\n  reviewContainer.appendChild(based)\n  reviewContainer.appendChild(review)\n\n  return reviewContainer\n}\n\nexport default function builder (element, options = {}) {\n  // make sure rating is a number\n  //  if no decimal is present round to the base number\n  let rating = Number(options.developer.review_rating || optionns.developer.overall_rating || 0)\n  rating = rating.toFixed(Math.floor(rating) === rating ? 0: 1)\n\n  const container = document.createElement('div')\n\n  container.classList.add('hc-developer-widget')\n  container.classList.toggle('hc-developer-widget--dark', options.dark)\n\n  container.appendChild(buildLogo({ dark: options.dark }))\n  container.appendChild(buildStar({\n    rating: rating,\n    dark: options.dark\n  }))\n  container.appendChild(buildReviews({\n    developer: options.developer.slug,\n    reviews: options.developer.review_count,\n    dark: options.dark\n  }))\n\n  element.appendChild(container)\n}\n"],"names":[],"version":3,"file":"main.js.map","sourceRoot":"../"}